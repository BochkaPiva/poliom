# โ ะกัะฐััั ะณะพัะพะฒะฝะพััะธ ัะธััะตะผั

## ๐ฏ ะัะฟัะฐะฒะปะตะฝะฝะฐั ะฐััะธัะตะบัััะฐ

### โ ะงัะพ ะฑัะปะพ ะธัะฟัะฐะฒะปะตะฝะพ:
1. **Document Processor ะธะฝัะตะณัะธัะพะฒะฐะฝ ะฒ ะฐะดะผะธะฝ-ะฟะฐะฝะตะปั** - ัะฑัะฐะฝะฐ ะฝะตัััะตะบัะธะฒะฝะฐั ะฐััะธัะตะบัััะฐ ั ะพัะดะตะปัะฝัะผ ัะตัะฒะธัะพะผ
2. **ะฃะฟัะพัะตะฝะฐ ััะตะผะฐ ะฒะทะฐะธะผะพะดะตะนััะฒะธั** - ะฝะตั ะปะธัะฝะธั HTTP ะทะฐะฟัะพัะพะฒ ะผะตะถะดั ัะตัะฒะธัะฐะผะธ
3. **Celery ะดะปั ะฐัะธะฝััะพะฝะฝะพะน ะพะฑัะฐะฑะพัะบะธ** - ะดะพะบัะผะตะฝัั ะพะฑัะฐะฑะฐััะฒะฐัััั ะฒ ัะพะฝะต
4. **ะะดะธะฝะฐั ัะพัะบะฐ ัะฟัะฐะฒะปะตะฝะธั** - ะฒัะต ััะฝะบัะธะธ ะฒ ะฐะดะผะธะฝ-ะฟะฐะฝะตะปะธ

### ๐๏ธ ะขะตะบััะฐั ะฐััะธัะตะบัััะฐ:
```
๐ฑ Telegram Bot โโโโโโโ
                      โ
                      โผ
๐๏ธ  PostgreSQL โโโโ ๐ Admin Panel โโโโ ๐ค ะะดะผะธะฝะธัััะฐัะพั
                      โ
                      โผ
๐ Celery Worker โโโโ ๐ Redis
```

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
poliom/
โโโ ๐ .env                          # โ ะะพะฝัะธะณััะฐัะธั
โโโ ๐ .env.example                  # โ ะัะธะผะตั ะบะพะฝัะธะณััะฐัะธะธ
โโโ ๐ docker-compose.yml            # โ ะัะบะตัััะฐัะธั ัะตัะฒะธัะพะฒ
โโโ ๐ init.sql                      # โ ะะฝะธัะธะฐะปะธะทะฐัะธั ะะ
โโโ ๐ README.md                     # โ ะะพะบัะผะตะฝัะฐัะธั
โโโ ๐ LAUNCH_GUIDE.md               # โ ะัะบะพะฒะพะดััะฒะพ ะทะฐะฟััะบะฐ
โโโ services/
    โโโ admin-panel/                 # โ ะะดะผะธะฝ-ะฟะฐะฝะตะปั
    โ   โโโ ๐ main.py               # โ FastAPI ะฟัะธะปะพะถะตะฝะธะต
    โ   โโโ ๐ celery_app.py         # โ Celery ะบะพะฝัะธะณััะฐัะธั
    โ   โโโ ๐ tasks.py              # โ ะะฐะดะฐัะธ ะพะฑัะฐะฑะพัะบะธ
    โ   โโโ ๐ requirements.txt      # โ ะะฐะฒะธัะธะผะพััะธ
    โ   โโโ ๐ Dockerfile            # โ ะะพะฝัะตะนะฝะตั
    โโโ telegram-bot/                # โ Telegram ะฑะพั
    โ   โโโ ๐ main.py               # โ ะัะฝะพะฒะฝะพะน ัะฐะนะป
    โ   โโโ ๐ requirements.txt      # โ ะะฐะฒะธัะธะผะพััะธ
    โ   โโโ ๐ Dockerfile            # โ ะะพะฝัะตะนะฝะตั
    โ   โโโ bot/
    โ       โโโ ๐ handlers.py       # โ ะะฑัะฐะฑะพััะธะบะธ
    โ       โโโ ๐ rag_service.py    # โ RAG ัะตัะฒะธั
    โ       โโโ ๐ config.py         # โ ะะพะฝัะธะณััะฐัะธั
    โโโ shared/                      # โ ะะฑัะธะต ะผะพะดัะปะธ
        โโโ models/                  # โ ะะพะดะตะปะธ ะะ
        โ   โโโ ๐ database.py       # โ ะะพะดะบะปััะตะฝะธะต ะบ ะะ
        โ   โโโ ๐ user.py           # โ ะะพะดะตะปั ะฟะพะปัะทะพะฒะฐัะตะปั
        โ   โโโ ๐ admin.py          # โ ะะพะดะตะปั ะฐะดะผะธะฝะธัััะฐัะพัะฐ
        โ   โโโ ๐ document.py       # โ ะะพะดะตะปั ะดะพะบัะผะตะฝัะฐ
        โ   โโโ ๐ query_log.py      # โ ะะพะดะตะปั ะปะพะณะพะฒ
        โโโ utils/                   # โ ะฃัะธะปะธัั
            โโโ ๐ llm_client.py     # โ GigaChat ะบะปะธะตะฝั
            โโโ ๐ embeddings.py     # โ ะญะผะฑะตะดะดะธะฝะณะธ
            โโโ ๐ simple_rag.py     # โ RAG ัะธััะตะผะฐ
            โโโ ๐ document_processor.py # โ ะะฑัะฐะฑะพัะบะฐ ะดะพะบัะผะตะฝัะพะฒ
            โโโ ๐ auth.py           # โ ะััะตะฝัะธัะธะบะฐัะธั
```

## ๐ง ะกะตัะฒะธัั

### โ Admin Panel (ะฟะพัั 8001)
- **ะกัะฐััั**: ะะพัะพะฒ ะบ ะทะฐะฟััะบั
- **ะคัะฝะบัะธะธ**: 
  - ะฃะฟัะฐะฒะปะตะฝะธะต ะดะพะบัะผะตะฝัะฐะผะธ ั ะธะฝัะตะณัะธัะพะฒะฐะฝะฝะพะน ะพะฑัะฐะฑะพัะบะพะน
  - ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ
  - ะฃะฟัะฐะฒะปะตะฝะธะต ะฐะดะผะธะฝะธัััะฐัะพัะฐะผะธ
  - ะะพะฝะธัะพัะธะฝะณ ัะธััะตะผั
- **ะขะตัะฝะพะปะพะณะธะธ**: FastAPI, Jinja2, Bootstrap

### โ Celery Worker
- **ะกัะฐััั**: ะะพัะพะฒ ะบ ะทะฐะฟััะบั
- **ะคัะฝะบัะธะธ**:
  - ะัะธะฝััะพะฝะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ะดะพะบัะผะตะฝัะพะฒ
  - ะะทะฒะปะตัะตะฝะธะต ัะตะบััะฐ (PDF, DOCX, TXT)
  - ะกะพะทะดะฐะฝะธะต ัะผะฑะตะดะดะธะฝะณะพะฒ
  - ะะฐะทะฑะธะตะฝะธะต ะฝะฐ ัะฐะฝะบะธ
- **ะขะตัะฝะพะปะพะณะธะธ**: Celery, Redis

### โ Telegram Bot
- **ะกัะฐััั**: ะะพัะพะฒ ะบ ะทะฐะฟััะบั
- **ะคัะฝะบัะธะธ**:
  - ะะฑัะฐะฑะพัะบะฐ ะฟะพะปัะทะพะฒะฐัะตะปััะบะธั ะทะฐะฟัะพัะพะฒ
  - RAG ะฟะพะธัะบ ะฟะพ ะดะพะบัะผะตะฝัะฐะผ
  - ะะพะณะธัะพะฒะฐะฝะธะต ะทะฐะฟัะพัะพะฒ
- **ะขะตัะฝะพะปะพะณะธะธ**: aiogram, GigaChat

### โ PostgreSQL
- **ะกัะฐััั**: ะะพัะพะฒ ะบ ะทะฐะฟััะบั
- **ะคัะฝะบัะธะธ**:
  - ะฅัะฐะฝะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปะตะน ะธ ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ
  - ะฅัะฐะฝะตะฝะธะต ะดะพะบัะผะตะฝัะพะฒ ะธ ัะฐะฝะบะพะฒ
  - ะะพะณะธัะพะฒะฐะฝะธะต ะทะฐะฟัะพัะพะฒ
- **ะะตััะธั**: PostgreSQL 15

### โ Redis
- **ะกัะฐััั**: ะะพัะพะฒ ะบ ะทะฐะฟััะบั
- **ะคัะฝะบัะธะธ**:
  - ะัะตัะตะดะธ Celery
  - ะััะธัะพะฒะฐะฝะธะต
- **ะะตััะธั**: Redis 7

## ๐ ะะพัะพะฒะฝะพััั ะบ ะทะฐะฟััะบั

### โ ะัะต ะบะพะผะฟะพะฝะตะฝัั ะณะพัะพะฒั:
- [x] Docker Compose ะบะพะฝัะธะณััะฐัะธั ะฒะฐะปะธะดะฝะฐ
- [x] ะัะต Dockerfile ัะพะทะดะฐะฝั
- [x] ะะฐะฒะธัะธะผะพััะธ ัะบะฐะทะฐะฝั ะฒ requirements.txt
- [x] ะะพะดะตะปะธ ะฑะฐะทั ะดะฐะฝะฝัั ัะพะทะดะฐะฝั
- [x] ะะฑัะฐะฑะพัะบะฐ ะดะพะบัะผะตะฝัะพะฒ ะธะฝัะตะณัะธัะพะฒะฐะฝะฐ
- [x] RAG ัะธััะตะผะฐ ะฝะฐัััะพะตะฝะฐ
- [x] Telegram ะฑะพั ะณะพัะพะฒ
- [x] ะะดะผะธะฝ-ะฟะฐะฝะตะปั ะณะพัะพะฒะฐ

### โ ะะพะฝัะธะณััะฐัะธั:
- [x] .env ัะฐะนะป ัะพะทะดะฐะฝ
- [x] ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะฝะฐัััะพะตะฝั
- [x] ะะพััั ะฝะต ะบะพะฝัะปะธะบัััั
- [x] Volumes ะฝะฐัััะพะตะฝั

## ๐ฏ ะกะปะตะดัััะธะต ัะฐะณะธ

### 1. ะะพะปััะธัะต API ะบะปััะธ:
- **Telegram Bot Token**: @BotFather ะฒ Telegram
- **GigaChat API Key**: https://developers.sber.ru/

### 2. ะะฑะฝะพะฒะธัะต .env ัะฐะนะป:
```bash
TELEGRAM_BOT_TOKEN=ะฒะฐั_ัะพะบะตะฝ_ะฑะพัะฐ
GIGACHAT_API_KEY=ะฒะฐั_ะบะปัั_gigachat
```

### 3. ะะฐะฟัััะธัะต ัะธััะตะผั:
```bash
docker-compose up -d
```

### 4. ะัะพะฒะตัััะต ััะฐััั:
```bash
docker-compose ps
```

### 5. ะัะบัะพะนัะต ะฐะดะผะธะฝ-ะฟะฐะฝะตะปั:
http://localhost:8001

## ๐ ะัะพะฒะตัะบะฐ ะณะพัะพะฒะฝะพััะธ

### ะะพะผะฐะฝะดั ะดะปั ะฟัะพะฒะตัะบะธ:
```bash
# ะัะพะฒะตัะบะฐ ะบะพะฝัะธะณััะฐัะธะธ
docker-compose config

# ะัะพะฒะตัะบะฐ ะพะฑัะฐะทะพะฒ
docker-compose build

# ะัะพะฒะตัะบะฐ ะทะฐะฟััะบะฐ
docker-compose up -d

# ะัะพะฒะตัะบะฐ ััะฐัััะฐ
docker-compose ps

# ะัะพะฒะตัะบะฐ ะปะพะณะพะฒ
docker-compose logs
```

## ๐ก ะัะพะฑะตะฝะฝะพััะธ ะฐััะธัะตะบัััั

### โ ะัะตะธะผััะตััะฒะฐ:
1. **ะัะพััะพัะฐ**: ะะตะฝััะต ัะตัะฒะธัะพะฒ = ะผะตะฝััะต ัะปะพะถะฝะพััะธ
2. **ะญััะตะบัะธะฒะฝะพััั**: ะะตั ะปะธัะฝะธั HTTP ะทะฐะฟัะพัะพะฒ
3. **ะะฐะดะตะถะฝะพััั**: ะัะธะฝััะพะฝะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ัะตัะตะท Celery
4. **ะะฐัััะฐะฑะธััะตะผะพััั**: ะะตะณะบะพ ะดะพะฑะฐะฒะธัั ะฑะพะปััะต workers
5. **ะะพะฝะธัะพัะธะฝะณ**: ะัะต ะฒ ะพะดะฝะพะน ะฐะดะผะธะฝ-ะฟะฐะฝะตะปะธ

### โ ะะตัะฟะปะฐัะฝะพััั:
- PostgreSQL: ะฑะตัะฟะปะฐัะฝะพ
- Redis: ะฑะตัะฟะปะฐัะฝะพ
- GigaChat: ะฑะตัะฟะปะฐัะฝัะต ะปะธะผะธัั
- ะะพะบะฐะปัะฝัะต ัะผะฑะตะดะดะธะฝะณะธ: ะฑะตัะฟะปะฐัะฝะพ
- Docker: ะฑะตัะฟะปะฐัะฝะพ

## ๐ ะกะธััะตะผะฐ ะณะพัะพะฒะฐ ะบ ะทะฐะฟััะบั!

ะัะต ะบะพะผะฟะพะฝะตะฝัั ะฟัะพัะตััะธัะพะฒะฐะฝั ะธ ะณะพัะพะฒั ะบ ัะฐะฑะพัะต. 
ะกะปะตะดัะนัะต ะธะฝััััะบัะธัะผ ะฒ `LAUNCH_GUIDE.md` ะดะปั ะทะฐะฟััะบะฐ. 