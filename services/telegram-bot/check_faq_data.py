#!/usr/bin/env python3
"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è FAQ –¥–∞–Ω–Ω—ã—Ö
"""

import os
import sys
from pathlib import Path

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç–∏ –∫ –º–æ–¥—É–ª—è–º
project_root = Path(__file__).parent.parent.parent
sys.path.insert(0, str(project_root / "shared"))
sys.path.insert(0, str(project_root / "services" / "telegram-bot"))

from bot.config import Config
from bot.database import get_db_session, get_menu_sections, get_menu_items
from models.menu import MenuSection, MenuItem

def check_faq_data():
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è FAQ –¥–∞–Ω–Ω—ã—Ö"""
    print("üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ FAQ –¥–∞–Ω–Ω—ã—Ö...")
    
    try:
        sections = get_menu_sections()
        print(f"üìö –ù–∞–π–¥–µ–Ω–æ —Ä–∞–∑–¥–µ–ª–æ–≤ FAQ: {len(sections)}")
        
        if not sections:
            print("‚ùå FAQ —Ä–∞–∑–¥–µ–ª—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö")
            return False
        
        for section in sections:
            print(f"  üìã {section['title']}")
            items = get_menu_items(section['id'])
            print(f"    ‚îî‚îÄ‚îÄ –í–æ–ø—Ä–æ—Å–æ–≤: {len(items)}")
            
            for item in items[:3]:  # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–µ 3 –≤–æ–ø—Ä–æ—Å–∞
                print(f"      ‚Ä¢ {item['title']}")
        
        return True
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ FAQ: {e}")
        return False

def create_sample_faq():
    """–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–∞ FAQ –¥–∞–Ω–Ω—ã—Ö"""
    print("üîß –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–∞ FAQ –¥–∞–Ω–Ω—ã—Ö...")
    
    try:
        db = next(get_db_session())
        
        # –°–æ–∑–¥–∞–µ–º —Ä–∞–∑–¥–µ–ª—ã FAQ
        sections_data = [
            {"title": "üí∞ –û–ø–ª–∞—Ç–∞ —Ç—Ä—É–¥–∞", "description": "–í–æ–ø—Ä–æ—Å—ã –ø–æ –∑–∞—Ä–∞–±–æ—Ç–Ω–æ–π –ø–ª–∞—Ç–µ, –ø—Ä–µ–º–∏—è–º –∏ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è–º", "order": 1},
            {"title": "‚è∞ –†–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è –∏ –æ—Ç–¥—ã—Ö", "description": "–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã, –æ—Ç–ø—É—Å–∫–∞, –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–Ω–∏", "order": 2},
            {"title": "üè† –î–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞", "description": "–£–¥–∞–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –∏ –≥–∏–±—Ä–∏–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç", "order": 3},
            {"title": "ü§ù –°–æ—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞", "description": "–õ—å–≥–æ—Ç—ã, –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏, —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã", "order": 4},
            {"title": "üèÜ –ü–æ–æ—â—Ä–µ–Ω–∏—è –∏ –Ω–∞–≥—Ä–∞–¥—ã", "description": "–°–∏—Å—Ç–µ–º–∞ –º–æ—Ç–∏–≤–∞—Ü–∏–∏ –∏ –ø—Ä–∏–∑–Ω–∞–Ω–∏—è –∑–∞—Å–ª—É–≥", "order": 5},
            {"title": "‚öñÔ∏è –¢—Ä—É–¥–æ–≤—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è", "description": "–¢—Ä—É–¥–æ–≤—ã–µ –¥–æ–≥–æ–≤–æ—Ä—ã, –ø—Ä–∞–≤–∞ –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏", "order": 6},
            {"title": "üõ°Ô∏è –û—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å", "description": "–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ —Ä–∞–±–æ—á–µ–º –º–µ—Å—Ç–µ", "order": 7}
        ]
        
        created_sections = []
        for section_data in sections_data:
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Ä–∞–∑–¥–µ–ª
            existing = db.query(MenuSection).filter(MenuSection.title == section_data["title"]).first()
            if not existing:
                section = MenuSection(
                    title=section_data["title"],
                    description=section_data["description"],
                    order_index=section_data["order"]
                )
                db.add(section)
                db.flush()  # –ü–æ–ª—É—á–∞–µ–º ID
                created_sections.append(section)
                print(f"‚úÖ –°–æ–∑–¥–∞–Ω —Ä–∞–∑–¥–µ–ª: {section.title}")
            else:
                created_sections.append(existing)
                print(f"‚ÑπÔ∏è –†–∞–∑–¥–µ–ª —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {existing.title}")
        
        # –°–æ–∑–¥–∞–µ–º –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞
        faq_items = {
            "üí∞ –û–ø–ª–∞—Ç–∞ —Ç—Ä—É–¥–∞": [
                {"title": "–ö–æ–≥–¥–∞ –≤—ã–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –∑–∞—Ä–ø–ª–∞—Ç–∞?", "content": "–ó–∞—Ä–∞–±–æ—Ç–Ω–∞—è –ø–ª–∞—Ç–∞ –≤—ã–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –¥–≤–∞ —Ä–∞–∑–∞ –≤ –º–µ—Å—è—Ü:\n‚Ä¢ –ê–≤–∞–Ω—Å: 15 —á–∏—Å–ª–∞ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—è—Ü–∞\n‚Ä¢ –û—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å: 30 —á–∏—Å–ª–∞ (–∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å –º–µ—Å—è—Ü–∞)\n\n–í—ã–ø–ª–∞—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è –Ω–∞ –±–∞–Ω–∫–æ–≤—Å–∫—É—é –∫–∞—Ä—Ç—É, —É–∫–∞–∑–∞–Ω–Ω—É—é –≤ —Ç—Ä—É–¥–æ–≤–æ–º –¥–æ–≥–æ–≤–æ—Ä–µ."},
                {"title": "–ö–∞–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–µ–º–∏—è?", "content": "–ü—Ä–µ–º–∏—è —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ:\n‚Ä¢ –í—ã–ø–æ–ª–Ω–µ–Ω–∏—è KPI (–∫–ª—é—á–µ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)\n‚Ä¢ –û–±—â–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∫–æ–º–ø–∞–Ω–∏–∏\n‚Ä¢ –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π\n\n–†–∞–∑–º–µ—Ä –ø—Ä–µ–º–∏–∏ –º–æ–∂–µ—Ç —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ç 10% –¥–æ 50% –æ—Ç –æ–∫–ª–∞–¥–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤."},
                {"title": "–ö–∞–∫–∏–µ –¥–æ–ø–ª–∞—Ç—ã –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã?", "content": "–ü—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –¥–æ–ø–ª–∞—Ç—ã:\n‚Ä¢ –ó–∞ —Ä–∞–±–æ—Ç—É –≤ –≤—ã—Ö–æ–¥–Ω—ã–µ –∏ –ø—Ä–∞–∑–¥–Ω–∏—á–Ω—ã–µ –¥–Ω–∏ (–¥–≤–æ–π–Ω–æ–π —Ä–∞–∑–º–µ—Ä)\n‚Ä¢ –ó–∞ —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω—É—é —Ä–∞–±–æ—Ç—É (–ø–æ–ª—É—Ç–æ—Ä–Ω—ã–π —Ä–∞–∑–º–µ—Ä)\n‚Ä¢ –ó–∞ —Ä–∞–±–æ—Ç—É –≤ –Ω–æ—á–Ω–æ–µ –≤—Ä–µ–º—è (20% –æ—Ç –æ–∫–ª–∞–¥–∞)\n‚Ä¢ –†–∞–π–æ–Ω–Ω—ã–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–≥–∏–æ–Ω–∞)"}
            ],
            "‚è∞ –†–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è –∏ –æ—Ç–¥—ã—Ö": [
                {"title": "–ö–∞–∫–æ–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã –≤ –∫–æ–º–ø–∞–Ω–∏–∏?", "content": "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã:\n‚Ä¢ –ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫-–ø—è—Ç–Ω–∏—Ü–∞: 9:00-18:00\n‚Ä¢ –û–±–µ–¥–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ä—ã–≤: 13:00-14:00\n‚Ä¢ –°—É–±–±–æ—Ç–∞, –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ: –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–Ω–∏\n\n–í–æ–∑–º–æ–∂–µ–Ω –≥–∏–±–∫–∏–π –≥—Ä–∞—Ñ–∏–∫ –ø–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—é —Å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–º."},
                {"title": "–ö–∞–∫ –æ—Ñ–æ—Ä–º–∏—Ç—å –æ—Ç–ø—É—Å–∫?", "content": "–î–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –æ—Ç–ø—É—Å–∫–∞:\n1. –ü–æ–¥–∞–π—Ç–µ –∑–∞—è–≤–ª–µ–Ω–∏–µ –∑–∞ 2 –Ω–µ–¥–µ–ª–∏ –¥–æ –Ω–∞—á–∞–ª–∞ –æ—Ç–ø—É—Å–∫–∞\n2. –°–æ–≥–ª–∞—Å—É–π—Ç–µ –¥–∞—Ç—ã —Å –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã–º —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–º\n3. –ü–æ–ª—É—á–∏—Ç–µ –ø–æ–¥–ø–∏—Å—å HR-–æ—Ç–¥–µ–ª–∞\n4. –û—Ç–ø—É—Å–∫–Ω—ã–µ –≤—ã–ø–ª–∞—á–∏–≤–∞—é—Ç—Å—è –∑–∞ 3 –¥–Ω—è –¥–æ –Ω–∞—á–∞–ª–∞ –æ—Ç–ø—É—Å–∫–∞\n\n–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –æ—Ç–ø—É—Å–∫–∞: 28 –∫–∞–ª–µ–Ω–¥–∞—Ä–Ω—ã—Ö –¥–Ω–µ–π."},
                {"title": "–ú–æ–∂–Ω–æ –ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å–≤–µ—Ä—Ö—É—Ä–æ—á–Ω–æ?", "content": "–°–≤–µ—Ä—Ö—É—Ä–æ—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤–æ–∑–º–æ–∂–Ω–∞:\n‚Ä¢ –ü–æ –ø–∏—Å—å–º–µ–Ω–Ω–æ–º—É —Å–æ–≥–ª–∞—Å–∏—é —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞\n‚Ä¢ –ù–µ –±–æ–ª–µ–µ 4 —á–∞—Å–æ–≤ –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–≤—É—Ö –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥\n‚Ä¢ –ù–µ –±–æ–ª–µ–µ 120 —á–∞—Å–æ–≤ –≤ –≥–æ–¥\n‚Ä¢ –û–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ –ø–æ–ª—É—Ç–æ—Ä–Ω–æ–º —Ä–∞–∑–º–µ—Ä–µ –∑–∞ –ø–µ—Ä–≤—ã–µ 2 —á–∞—Å–∞, –≤ –¥–≤–æ–π–Ω–æ–º - –∑–∞ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ"}
            ],
            "üè† –î–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞": [
                {"title": "–ö–∞–∫ –æ—Ñ–æ—Ä–º–∏—Ç—å —É–¥–∞–ª–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É?", "content": "–î–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É:\n1. –ü–æ–¥–∞–π—Ç–µ –∑–∞—è–≤–ª–µ–Ω–∏–µ –Ω–∞ –∏–º—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è\n2. –£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—ã –∏ –ø–µ—Ä–∏–æ–¥ —É–¥–∞–ª–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã\n3. –ü–æ–ª—É—á–∏—Ç–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ HR-–æ—Ç–¥–µ–ª–∞\n4. –ü–æ–¥–ø–∏—à–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ –∫ —Ç—Ä—É–¥–æ–≤–æ–º—É –¥–æ–≥–æ–≤–æ—Ä—É\n\n–£–¥–∞–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤–æ–∑–º–æ–∂–Ω–∞ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π."},
                {"title": "–ö–∞–∫–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è?", "content": "–î–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∫–æ–º–ø–∞–Ω–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:\n‚Ä¢ –ù–æ—É—Ç–±—É–∫ —Å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º –ü–û\n‚Ä¢ –ú–æ–±–∏–ª—å–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –¥–ª—è —Å–≤—è–∑–∏\n‚Ä¢ –î–æ—Å—Ç—É–ø –∫ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º\n‚Ä¢ –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ (–¥–æ 2000 —Ä—É–±/–º–µ—Å)\n\n–û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ –æ—Å—Ç–∞–µ—Ç—Å—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å—é –∫–æ–º–ø–∞–Ω–∏–∏."}
            ],
            "ü§ù –°–æ—Ü–∏–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞": [
                {"title": "–ö–∞–∫–∏–µ –ª—å–≥–æ—Ç—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–∞–Ω–∏—è?", "content": "–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ –ª—å–≥–æ—Ç—ã –≤–∫–ª—é—á–∞—é—Ç:\n‚Ä¢ –î–æ–±—Ä–æ–≤–æ–ª—å–Ω–æ–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–µ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ (–î–ú–°)\n‚Ä¢ –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø–∏—Ç–∞–Ω–∏—è (–¥–æ 3000 —Ä—É–±/–º–µ—Å)\n‚Ä¢ –û–ø–ª–∞—Ç–∞ —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤ (–¥–æ 5000 —Ä—É–±/–º–µ—Å)\n‚Ä¢ –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –æ–±—É—á–µ–Ω–∏—è –∏ —Ä–∞–∑–≤–∏—Ç–∏—è\n‚Ä¢ –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å–∫–∏–¥–∫–∏ —É –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤"},
                {"title": "–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—É—é –ø–æ–º–æ—â—å?", "content": "–ú–∞—Ç–µ—Ä–∏–∞–ª—å–Ω–∞—è –ø–æ–º–æ—â—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è:\n‚Ä¢ –ü—Ä–∏ —Ä–æ–∂–¥–µ–Ω–∏–∏ —Ä–µ–±–µ–Ω–∫–∞ (50 000 —Ä—É–±)\n‚Ä¢ –í —Å–≤—è–∑–∏ —Å —Ç—è–∂–µ–ª—ã–º –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–º –ø–æ–ª–æ–∂–µ–Ω–∏–µ–º\n‚Ä¢ –ü—Ä–∏ —Å–º–µ—Ä—Ç–∏ –±–ª–∏–∑–∫–∏—Ö —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤\n‚Ä¢ –í –¥—Ä—É–≥–∏—Ö –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö\n\n–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥–∞–π—Ç–µ –∑–∞—è–≤–ª–µ–Ω–∏–µ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–∏–º–∏ –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞."}
            ],
            "üèÜ –ü–æ–æ—â—Ä–µ–Ω–∏—è –∏ –Ω–∞–≥—Ä–∞–¥—ã": [
                {"title": "–ö–∞–∫–∏–µ –≤–∏–¥—ã –ø–æ–æ—â—Ä–µ–Ω–∏–π —Å—É—â–µ—Å—Ç–≤—É—é—Ç?", "content": "–°–∏—Å—Ç–µ–º–∞ –ø–æ–æ—â—Ä–µ–Ω–∏–π –≤–∫–ª—é—á–∞–µ—Ç:\n‚Ä¢ –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å –≤ –ø—Ä–∏–∫–∞–∑–µ\n‚Ä¢ –î–µ–Ω–µ–∂–Ω–∞—è –ø—Ä–µ–º–∏—è –∑–∞ –æ—Å–æ–±—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è\n‚Ä¢ –¶–µ–Ω–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏ –∫ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞–º\n‚Ä¢ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–Ω–∏ –æ—Ç–ø—É—Å–∫–∞\n‚Ä¢ –ü–æ–≤—ã—à–µ–Ω–∏–µ –≤ –¥–æ–ª–∂–Ω–æ—Å—Ç–∏\n‚Ä¢ –£—á–∞—Å—Ç–∏–µ –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ö —Ä–∞–∑–≤–∏—Ç–∏—è"},
                {"title": "–ö–∞–∫ –Ω–æ–º–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–ª–µ–≥—É –Ω–∞ –Ω–∞–≥—Ä–∞–¥—É?", "content": "–î–ª—è –Ω–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–ª–ª–µ–≥–∏:\n1. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –Ω–æ–º–∏–Ω–∞—Ü–∏–∏ –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ\n2. –û–ø–∏—à–∏—Ç–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ –≤–∫–ª–∞–¥ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞\n3. –ü—Ä–∏–ª–æ–∂–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã\n4. –ü–æ–ª—É—á–∏—Ç–µ –æ–¥–æ–±—Ä–µ–Ω–∏–µ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è\n\n–†–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ –Ω–æ–º–∏–Ω–∞—Ü–∏–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –µ–∂–µ–º–µ—Å—è—á–Ω–æ –∫–æ–º–∏—Å—Å–∏–µ–π."}
            ],
            "‚öñÔ∏è –¢—Ä—É–¥–æ–≤—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è": [
                {"title": "–ö–∞–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω—É–∂–Ω—ã –ø—Ä–∏ —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ?", "content": "–î–ª—è —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã:\n‚Ä¢ –ü–∞—Å–ø–æ—Ä—Ç –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–∞ –†–§\n‚Ä¢ –¢—Ä—É–¥–æ–≤–∞—è –∫–Ω–∏–∂–∫–∞ (–∏–ª–∏ —Å–≤–µ–¥–µ–Ω–∏—è –æ —Ç—Ä—É–¥–æ–≤–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)\n‚Ä¢ –°–ù–ò–õ–°\n‚Ä¢ –î–æ–∫—É–º–µ–Ω—Ç –æ–± –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏\n‚Ä¢ –°–ø—Ä–∞–≤–∫–∞ –æ –Ω–µ—Å—É–¥–∏–º–æ—Å—Ç–∏ (–¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –¥–æ–ª–∂–Ω–æ—Å—Ç–µ–π)\n‚Ä¢ –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –∫–Ω–∏–∂–∫–∞ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)"},
                {"title": "–ö–∞–∫–æ–≤ –ø–æ—Ä—è–¥–æ–∫ —É–≤–æ–ª—å–Ω–µ–Ω–∏—è?", "content": "–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ —É–≤–æ–ª—å–Ω–µ–Ω–∏—è:\n1. –ü–æ–¥–∞—á–∞ –∑–∞—è–≤–ª–µ–Ω–∏—è –∑–∞ 2 –Ω–µ–¥–µ–ª–∏ (–¥–ª—è —Å—Ä–æ—á–Ω—ã—Ö –¥–æ–≥–æ–≤–æ—Ä–æ–≤ - –∑–∞ 3 –¥–Ω—è)\n2. –û—Ç—Ä–∞–±–æ—Ç–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ —Å—Ä–æ–∫–∞\n3. –ü–µ—Ä–µ–¥–∞—á–∞ –¥–µ–ª –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π\n4. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç—Ä—É–¥–æ–≤–æ–π –∫–Ω–∏–∂–∫–∏ –∏ —Å–ø—Ä–∞–≤–æ–∫\n5. –û–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å"},
                {"title": "–ú–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å —É—Å–ª–æ–≤–∏—è —Ç—Ä—É–¥–æ–≤–æ–≥–æ –¥–æ–≥–æ–≤–æ—Ä–∞?", "content": "–ò–∑–º–µ–Ω–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π –¥–æ–≥–æ–≤–æ—Ä–∞ –≤–æ–∑–º–æ–∂–Ω–æ:\n‚Ä¢ –ü–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—é —Å—Ç–æ—Ä–æ–Ω (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ)\n‚Ä¢ –ü–æ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–µ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è (—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –∑–∞ 2 –º–µ—Å—è—Ü–∞)\n‚Ä¢ –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π —Ç—Ä—É–¥–∞\n\n–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ—Ñ–æ—Ä–º–ª—è—é—Ç—Å—è –ø–∏—Å—å–º–µ–Ω–Ω–æ –∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –æ–±–µ–∏–º–∏ —Å—Ç–æ—Ä–æ–Ω–∞–º–∏."},
                {"title": "–ö–∞–∫–∏–µ –ø—Ä–∞–≤–∞ –µ—Å—Ç—å —É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞?", "content": "–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:\n‚Ä¢ –ü—Ä–∞–≤–æ –Ω–∞ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—É—é –æ–ø–ª–∞—Ç—É —Ç—Ä—É–¥–∞\n‚Ä¢ –ü—Ä–∞–≤–æ –Ω–∞ –æ—Ç–¥—ã—Ö –∏ –æ—Ç–ø—É—Å–∫\n‚Ä¢ –ü—Ä–∞–≤–æ –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è —Ç—Ä—É–¥–∞\n‚Ä¢ –ü—Ä–∞–≤–æ –Ω–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ\n‚Ä¢ –ü—Ä–∞–≤–æ –Ω–∞ –∑–∞—â–∏—Ç—É —Ç—Ä—É–¥–æ–≤—ã—Ö –ø—Ä–∞–≤\n‚Ä¢ –ü—Ä–∞–≤–æ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —É—Å–ª–æ–≤–∏—è—Ö —Ç—Ä—É–¥–∞"}
            ],
            "üõ°Ô∏è –û—Ö—Ä–∞–Ω–∞ —Ç—Ä—É–¥–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å": [
                {"title": "–ö–∞–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–µ–π—Å—Ç–≤—É—é—Ç –≤ –æ—Ñ–∏—Å–µ?", "content": "–ü—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –æ—Ñ–∏—Å–µ:\n‚Ä¢ –°–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –ø–æ–∂–∞—Ä–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏\n‚Ä¢ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—á–µ–≥–æ –º–µ—Å—Ç–∞\n‚Ä¢ –°–æ–±–ª—é–¥–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞ —Ç—Ä—É–¥–∞ –∏ –æ—Ç–¥—ã—Ö–∞\n‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ä–≥–æ–Ω–æ–º–∏—á–Ω–æ–π –º–µ–±–µ–ª–∏\n‚Ä¢ –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø–µ—Ä–µ—Ä—ã–≤—ã –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ –∑–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º\n‚Ä¢ –°–æ–±–ª—é–¥–µ–Ω–∏–µ —Å–∞–Ω–∏—Ç–∞—Ä–Ω–æ-–≥–∏–≥–∏–µ–Ω–∏—á–µ—Å–∫–∏—Ö –Ω–æ—Ä–º"},
                {"title": "–ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ –Ω–µ—Å—á–∞—Å—Ç–Ω–æ–º —Å–ª—É—á–∞–µ?", "content": "–ü—Ä–∏ –Ω–µ—Å—á–∞—Å—Ç–Ω–æ–º —Å–ª—É—á–∞–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ:\n1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ —Å–æ–æ–±—â–∏—Ç–µ —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—é\n2. –í—ã–∑–æ–≤–∏—Ç–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫—É—é –ø–æ–º–æ—â—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏\n3. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞ –ø—Ä–æ–∏—Å—à–µ—Å—Ç–≤–∏—è\n4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Å–ª—É–∂–±—É –æ—Ö—Ä–∞–Ω—ã —Ç—Ä—É–¥–∞\n5. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∞–∫—Ç –æ –Ω–µ—Å—á–∞—Å—Ç–Ω–æ–º —Å–ª—É—á–∞–µ\n\n–í—Å–µ –Ω–µ—Å—á–∞—Å—Ç–Ω—ã–µ —Å–ª—É—á–∞–∏ –ø–æ–¥–ª–µ–∂–∞—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–º—É —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é."}
            ]
        }
        
        # –î–æ–±–∞–≤–ª—è–µ–º –≤–æ–ø—Ä–æ—Å—ã
        for section in created_sections:
            section_title = section.title
            if section_title in faq_items:
                items_data = faq_items[section_title]
                for i, item_data in enumerate(items_data, 1):
                    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –≤–æ–ø—Ä–æ—Å
                    existing_item = db.query(MenuItem).filter(
                        MenuItem.section_id == section.id,
                        MenuItem.title == item_data["title"]
                    ).first()
                    
                    if not existing_item:
                        item = MenuItem(
                            section_id=section.id,
                            title=item_data["title"],
                            content=item_data["content"],
                            order_index=i
                        )
                        db.add(item)
                        print(f"  ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –≤–æ–ø—Ä–æ—Å: {item.title}")
                    else:
                        print(f"  ‚ÑπÔ∏è –í–æ–ø—Ä–æ—Å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: {existing_item.title}")
        
        db.commit()
        print("‚úÖ FAQ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω—ã!")
        return True
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è FAQ: {e}")
        db.rollback()
        return False
    finally:
        db.close()

if __name__ == "__main__":
    print("üöÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ FAQ –¥–∞–Ω–Ω—ã—Ö")
    print("=" * 50)
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ
    if check_faq_data():
        print("‚úÖ FAQ –¥–∞–Ω–Ω—ã–µ –Ω–∞–π–¥–µ–Ω—ã –≤ –±–∞–∑–µ")
    else:
        print("üìù –°–æ–∑–¥–∞–µ–º FAQ –¥–∞–Ω–Ω—ã–µ...")
        if create_sample_faq():
            print("‚úÖ FAQ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω—ã")
            check_faq_data()  # –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—â–µ —Ä–∞–∑
        else:
            print("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å FAQ –¥–∞–Ω–Ω—ã–µ") 